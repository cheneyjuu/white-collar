(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/details"],{"4abe":function(t,e,i){"use strict";(function(t){i("18a1");n(i("66fd"));var e=n(i("d44e"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},8312:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"9c81":function(t,e,i){"use strict";i.r(e);var n=i("c508"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},c508:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("277c"));function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=n?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(i,o,r):i[o]=t[o]}return i.default=t,e&&e.set(t,i),i}var r={data:function(){return{token:t.getStorageSync("id_token"),activity:{},payload:{}}},methods:{loadActivityInfo:function(e){var i=this;t.request({url:"".concat(n.baseUrl,"/activities/").concat(e,"/details"),method:"GET",header:{"content-type":"application/json",Authorization:"Bearer "+this.token},success:function(t){var e=t.data.data;i.activity=e},fail:function(){},complete:function(){}})},activityRegister:function(e){var i=this.token;i?t.navigateTo({url:"/pages/activity/signup?activityId="+e.id}):t.reLaunch({url:"/pages/mine/home?activityId="+e.id})},onShare:function(){t.showShareMenu({success:function(){console.log("share success")}})},onInteractive:function(e,i){var a=t.getStorageSync("id_token");if(a){var o={recordId:e.activityId.id,recordType:"ACTIVITY",interactiveType:i};t.request({url:"".concat(n.baseUrl,"/interactive"),data:o,method:"POST",header:{"content-type":"application/json",Authorization:"Bearer "+a},success:function(t){var n=t.data;200===n.code&&("LIKE"===i&&(null!==n.data?e.userLikeFlag=!0:e.userLikeFlag=!1),"FAVOR"===i&&(null!==n.data?e.userFavorFlag=!0:e.userFavorFlag=!1))}})}else t.showToast({icon:"none",title:"您还未登录"})},toRegister:function(){var e=this,i=t.getStorageSync("id_token");i?t.navigateTo({url:"/pages/activity/signup?activityId="+e.activity.activityId.id}):t.showToast({icon:"none",title:"您还未登录"})},recordPresonInfo:function(){var e=t.getStorageSync("id_token");this.payload.activityId=this.activity.activityId,t.request({url:"".concat(n.baseUrl,"/activities/register"),method:"POST",header:{"content-type":"application/json",Authorization:"Bearer "+e},data:this.payload,success:function(t){console.log(t)},fail:function(){},complete:function(){}})}},onLoad:function(t){var e=t.activityId;this.loadActivityInfo(e)},onShareAppMessage:function(){return{title:this.activity.title,path:"/pages/activity/details?activityId="+this.activity.activityId.id,imageUrl:this.activity.coverImage}}};e.default=r}).call(this,i("543d")["default"])},d44e:function(t,e,i){"use strict";i.r(e);var n=i("8312"),a=i("9c81");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var r,c=i("f0c5"),u=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=u.exports}},[["4abe","common/runtime","common/vendor"]]]);
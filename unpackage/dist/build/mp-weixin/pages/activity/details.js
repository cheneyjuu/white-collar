(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/details"],{"4abe":function(t,e,n){"use strict";(function(t){n("18a1");a(n("66fd"));var e=a(n("d44e"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"9c81":function(t,e,n){"use strict";n.r(e);var a=n("c508"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},c508:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("277c"));function i(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=a?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}var r={data:function(){return{token:t.getStorageSync("id_token"),activity:{},payload:{}}},methods:{loadActivityInfo:function(e){var n=this;t.request({url:"".concat(a.baseUrl,"/activities/").concat(e,"/details"),method:"GET",header:{"content-type":"application/json",Authorization:"Bearer "+this.token},success:function(t){var e=t.data.data;n.activity=e},fail:function(){},complete:function(){}})},activityRegister:function(e){var n=this.token;n?t.navigateTo({url:"/pages/activity/signup?activityId="+e.id}):t.reLaunch({url:"/pages/mine/home?activityId="+e.id})},onShare:function(){t.showShareMenu({success:function(){console.log("share success")}})},onInteractive:function(e,n){var i=t.getStorageSync("id_token");if(i){var o={recordId:e.activityId.id,recordType:"ACTIVITY",interactiveType:n};t.request({url:"".concat(a.baseUrl,"/interactive"),data:o,method:"POST",header:{"content-type":"application/json",Authorization:"Bearer "+i},success:function(t){var a=t.data;200===a.code&&("LIKE"===n&&(null!==a.data?e.userLikeFlag=!0:e.userLikeFlag=!1),"FAVOR"===n&&(null!==a.data?e.userFavorFlag=!0:e.userFavorFlag=!1))}})}else t.showToast({icon:"none",title:"您还未登录"})},toRegister:function(){var e=t.getStorageSync("id_token");e?(this.recordPresonInfo(),wx.navigateToMiniProgram({appId:"wxc364791141684366",path:"pages/match/detail/index.html?matchid=6587",extraData:{},envVersion:"release",success:function(t){console.log("跳转成功"),console.log(t)}})):t.showToast({icon:"none",title:"您还未登录"})},recordPresonInfo:function(){var e=t.getStorageSync("id_token");this.payload.activityId=this.activity.activityId,t.request({url:"".concat(a.baseUrl,"/activities/register"),method:"POST",header:{"content-type":"application/json",Authorization:"Bearer "+e},data:this.payload,success:function(t){console.log(t)},fail:function(){},complete:function(){}})}},onLoad:function(t){var e=t.activityId;this.loadActivityInfo(e)},onShareAppMessage:function(){return{title:this.activity.title,path:"/pages/activity/details?activityId="+this.activity.activityId.id,imageUrl:this.activity.coverImage}}};e.default=r}).call(this,n("543d")["default"])},d44e:function(t,e,n){"use strict";n.r(e);var a=n("f8d2"),i=n("9c81");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var r,c=n("f0c5"),u=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=u.exports},f8d2:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))}},[["4abe","common/runtime","common/vendor"]]]);
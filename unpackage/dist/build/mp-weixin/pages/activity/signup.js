(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/signup"],{"1b59":function(t,e,n){"use strict";var a=n("9427"),o=n.n(a);o.a},"49c3":function(t,e,n){"use strict";n.r(e);var a=n("54db"),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},"54db":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("277c"));function o(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=a?Object.getOwnPropertyDescriptor(t,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}var i={data:function(){return{token:t.getStorageSync("id_token"),payload:{}}},methods:{userNameInput:function(t){this.payload.userName=t.detail.value},phoneNumberInput:function(t){var e=t.detail.value;this.payload.phoneNumber=e},idCardInput:function(t){this.payload.idCard=t.detail.value},activityRegister:function(){var e=t.getStorageSync("id_token"),n=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/,o=/(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)/,r=this.payload,i=r.userName,u=r.phoneNumber,c=r.idCard;n.test(u)?o.test(c)?!i||i.length<1?t.showToast({icon:"none",title:"请输入姓名!"}):t.request({url:"".concat(a.baseUrl,"/activities/register"),method:"POST",header:{"content-type":"application/json",Authorization:"Bearer "+e},data:this.payload,success:function(e){console.log(e);var n=e.data;n.errCode?t.showToast({title:n.errMsg,duration:2e3}):t.navigateBack({delta:1})},fail:function(){},complete:function(){}}):t.showToast({icon:"none",title:"输入的身份证有误!"}):t.showToast({icon:"none",title:"输入的手机号码有误!"})}},onLoad:function(t){var e=t.activityId,n={id:e};this.payload.activityId=n,console.log("报名页面",n)}};e.default=i}).call(this,n("543d")["default"])},"64b9":function(t,e,n){"use strict";(function(t){n("18a1");a(n("66fd"));var e=a(n("b1ce"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},7456:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement;t._self._c},r=[]},9427:function(t,e,n){},b1ce:function(t,e,n){"use strict";n.r(e);var a=n("7456"),o=n("49c3");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("1b59");var i,u=n("f0c5"),c=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=c.exports}},[["64b9","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/race/ranking"],{1514:function(t,e,n){"use strict";var a=n("4d5a"),r=n.n(a);r.a},"4d5a":function(t,e,n){},"9dbb":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("277c"));function r(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var c=a?Object.getOwnPropertyDescriptor(t,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}var c={data:function(){return{winHeight:"100%",toView:"manRanking",manData:[],womanData:[],rankTitle:"",currentUserInfo:{},isRegisted:!1,userInfo:t.getStorageSync("userInfo")}},methods:{viewClick:function(t){this.toView=t},loadData:function(e){var n=this,r=t.getStorageSync("id_token");t.request({url:"".concat(a.baseUrl,"/races/items/").concat(e,"/ranking"),method:"GET",header:{"content-type":"application/json",Authorization:"Bearer "+r},success:function(t){var e=t.data.data;e&&(n.manData=e["男"],n.manData&&n.manData.forEach((function(t,e){var a=n.secondToDate(t.spendTime);t.spendTimeStr=a,n.rankTitle=0===e?"冠军":1===e?"亚军":2===e?"季军":"第 "+e+" 名"})),n.womanData=e["女"],n.womanData&&n.womanData.forEach((function(t){var e=n.secondToDate(t.spendTime);t.spendTimeStr=e})),console.log(e["女"]))},fail:function(){},complete:function(){}})},secondToDate:function(t){var e=Math.floor(t/3600),n=Math.floor(t/60%60),a=Math.floor(t%60);return e+"时"+n+"分"+a+"秒"},loadCurrentUserInfo:function(){var e=this,n=t.getStorageSync("id_token");t.request({url:"".concat(a.baseUrl,"/account/current"),method:"GET",header:{"content-type":"application/json",Authorization:"Bearer "+n},success:function(t){var n=t.data.data;e.currentUserInfo=n},fail:function(){},complete:function(){}})},loadCurrentUserPlayInfo:function(e){var n=this,r=t.getStorageSync("id_token");t.request({url:"".concat(a.baseUrl,"/races/items/").concat(e,"/users/current"),method:"GET",header:{"content-type":"application/json",Authorization:"Bearer "+r},success:function(t){var e=t.data.data;n.currentUserInfo=e,n.isRegisted=null!==e,console.log("registed",n.isRegisted),e||n.loadCurrentUserInfo()},fail:function(){},complete:function(){}})}},onLoad:function(t){var e=t.itemId;this.loadCurrentUserPlayInfo(e),this.loadData(e)}};e.default=c}).call(this,n("543d")["default"])},bd2e:function(t,e,n){"use strict";n.r(e);var a=n("9dbb"),r=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=r.a},d1cb:function(t,e,n){"use strict";n.r(e);var a=n("dd92"),r=n("bd2e");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("1514");var c,i=n("f0c5"),u=Object(i["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],c);e["default"]=u.exports},dd92:function(t,e,n){"use strict";var a,r=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.manData,(function(e,n){var a=e.completeDate.substring(0,10);return{$orig:t.__get_orig(e),g0:a}}))),a=t.__map(t.womanData,(function(e,n){var a=e.completeDate.substring(0,10);return{$orig:t.__get_orig(e),g1:a}}));t.$mp.data=Object.assign({},{$root:{l0:n,l1:a}})},o=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},fa16:function(t,e,n){"use strict";(function(t){n("18a1");a(n("66fd"));var e=a(n("d1cb"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["fa16","common/runtime","common/vendor"]]]);